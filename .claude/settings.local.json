{
  "permissions": {
    "allow": [
      "Bash(git commit -m \"$(cat <<''EOF''\nFix jail.php warning and add Windows Task Scheduler for cron jobs\n\nProblem 1: Undefined array key ''gangPREFIX'' in jail.php\n- Warning: Undefined array key ''gangPREFIX'' (line 35)\n- Cause: Users without gangs have NULL in gangPREFIX field\n\nSolution 1: Add isset() check for gangPREFIX\n- Line 35: Added variable with isset() check\n- Before: {$r[''gangPREFIX'']} <a href=''...''>\n- After: $gangPrefix = isset($r[''gangPREFIX'']) && $r[''gangPREFIX''] ? $r[''gangPREFIX''] . '' '' : '''';\n- Displays gang prefix only if user has a gang\n\nProblem 2: Cron jobs not executing (jail timer not decreasing)\n- Jail, hospital, travel timers not updating\n- Energy, will, health, brave not regenerating\n- Cause: Cron jobs need to be scheduled in Windows Task Scheduler\n\nSolution 2: Windows Task Scheduler Setup\n- Created 4 batch files for cron execution:\n  * cron_minute.bat - Every minute (jail, hospital, travel, bodyguard)\n  * cron_five.bat - Every 5 minutes (energy, will, health, brave)\n  * cron_hour.bat - Every hour (maintenance)\n  * cron_day.bat - Daily at midnight (resets)\n\n- Created automated PowerShell setup script:\n  * setup_crons.ps1 - One-click setup for all 4 tasks\n  * Checks administrator privileges\n  * Creates all scheduled tasks automatically\n  * Shows status and verification commands\n\n- Created comprehensive documentation:\n  * WINDOWS_CRON_SETUP.md - Complete setup guide\n  * Method 1: PowerShell commands (recommended)\n  * Method 2: Manual GUI setup\n  * Verification steps\n  * Troubleshooting guide\n  * Useful commands\n\nFiles Created:\n1. cron_minute.bat - Executes cron_run_minute.php every minute\n2. cron_five.bat - Executes cron_run_five.php every 5 minutes\n3. cron_hour.bat - Executes cron_run_hour.php every hour\n4. cron_day.bat - Executes cron_run_day.php daily\n5. setup_crons.ps1 - Automated setup script\n6. WINDOWS_CRON_SETUP.md - Complete documentation\n\nFiles Modified:\n- jail.php (line 35) - Fixed gangPREFIX warning\n\nUsage:\nTo setup crons automatically:\n1. Right-click PowerShell â†’ \"Run as Administrator\"\n2. cd C:\\laragon\\www\\Mafia-Game-Script\n3. .\\setup_crons.ps1\n\nOr manually via PowerShell (see WINDOWS_CRON_SETUP.md)\n\nImpact:\nâœ… No more ''Undefined array key gangPREFIX'' warning\nâœ… Jail page displays correctly for users with/without gangs\nâœ… Jail timers will now decrease every minute\nâœ… Hospital timers will now decrease every minute\nâœ… Energy/Will/Health/Brave will regenerate every 5 minutes\nâœ… Easy one-click setup with setup_crons.ps1\nâœ… Complete documentation for troubleshooting\n\nNext Steps:\nRun setup_crons.ps1 as Administrator to enable all cron jobs\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n)\")"
    ],
    "deny": [],
    "ask": []
  }
}
