{
  "permissions": {
    "allow": [
      "Bash(mysql -u root mafia_game -e \"INSERT INTO settings (conf_name, conf_value) VALUES (''game_name'', ''Mafia Game''), (''game_description'', ''Online Mafia RPG Game''), (''game_owner'', ''Admin'');\")",
      "Bash(mysql -u root -e \"USE mafia_game; SELECT * FROM settings WHERE conf_name IN (''game_name'', ''game_description'', ''game_owner'');\")",
      "Bash(mysql -u root mafia_game -e \"UPDATE users SET login_name = username WHERE login_name IS NULL OR login_name = '''';\")",
      "Bash(mysql -u root -e \"USE mafia_game; SELECT userid, username, login_name FROM users WHERE username=''admin'';\")",
      "Bash(git commit -m \"$(cat <<''EOF''\nAdd mysql_* compatibility functions and fix database issues\n\nChanges:\n- Added mysql_real_escape_string() polyfill in core.php\n  * Wraps mysqli_real_escape_string() for compatibility\n  * Fallback to addslashes() if database not connected\n  \n- Added mysql_escape_string() polyfill\n  * Legacy function that calls mysql_real_escape_string()\n\n- Automatic settings loading in core.php\n  * Loads all settings from database into $set array\n  * Fixes \"Undefined array key 'game_name'\" warnings\n\n- Database fixes:\n  * Added missing settings: game_name, game_description, game_owner\n  * Updated users table: login_name now populated from username\n  * Ensures authentication works properly\n\nFixes:\n- Fatal error: mysql_real_escape_string() undefined (signup.php:296)\n- Warning: Undefined array key \"game_name\" (authenticate.php:58)\n- Authentication now works with admin/admin123\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n)\")"
    ],
    "deny": [],
    "ask": []
  }
}
